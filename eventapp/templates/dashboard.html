{% extends 'base.html' %}
{% block title %}Dashboard - Noble Quest{% endblock %}
{% block content %}
  <div class="welcome-section">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h1 class="welcome-title">Your Events Dashboard</h1>
        <p class="welcome-subtitle">Manage your events</p>
      </div>
    </div>
  </div>
  {% if events %}
    <div class="row">
      {% for event in events %}
        <div class="col-12 mb-3">
          <div class="event-card">
            <!-- Status Badge -->
            <div class="status-badge">Organized</div>
            
            <!-- Event Title -->
            <h5 class="event-title">{{ event.name }}</h5>
            
            <!-- Event Description -->
            {% if event.description %}
              <p class="event-description">{{ event.description[:100] }}{% if event.description|length > 100 %}â€¦{% endif %}</p>
            {% endif %}
            
            <!-- Event Meta Information -->
            <div class="event-meta">
              <i class="fas fa-calendar"></i>
              <span>{{ event.start_date.strftime('%m/%d/%Y') }}</span>
            </div>
            
            <div class="event-meta">
              <i class="fas fa-clock"></i>
              <span>{{ event.start_date.strftime('%I:%M:%S %p') }}{% if event.end_date %} - {{ event.end_date.strftime('%I:%M:%S %p') }}{% endif %}</span>
            </div>
            
            <div class="event-meta">
              <i class="fas fa-map-marker-alt"></i>
              <span>{{ event.city or event.location }}</span>
            </div>
            
            <!-- Organizer Info -->
            <div class="organizer-info">
              <div class="organizer-avatar">
                {{ event.creator.username[:2].upper() }}
              </div>
              <span>Organized by {{ event.creator.display_name }}</span>
            </div>
            
            <!-- Attendee Count -->
            <div class="attendee-count">
              <i class="fas fa-users"></i>
              <span>{{ event.accepted_count }}{% if event.capacity %} / {{ event.capacity }}{% endif %}</span>
            </div>
            
            <!-- Action Buttons -->
            <div class="d-flex justify-content-between align-items-center mt-3">
              <div>
                <a href="{{ url_for('event_detail', event_id=event.id) }}" class="btn btn-sm btn-primary mr-2">View</a>
                <a href="{{ url_for('update_event', event_id=event.id) }}" class="btn btn-sm btn-secondary mr-2">Edit</a>
                <a href="{{ url_for('event_attendees', event_id=event.id) }}" class="btn btn-sm btn-info">Attendees</a>
              </div>
              <small class="text-muted">Created {{ event.created_at.strftime('%Y-%m-%d') }}</small>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="text-center py-5">
      <h4>No events created yet</h4>
      <p class="text-muted">Start by creating your first event!</p>
      <a href="{{ url_for('create_event') }}" class="btn btn-primary btn-lg">Create Your First Event</a>
    </div>
  {% endif %}
{% endblock %}